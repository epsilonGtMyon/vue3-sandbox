import{j as p,c as g,p as x,l as k,m as w,d as y,q as N,s as B,v as M,k as _,a as c,b as s,n as T,F as C,h as j,u as V,x as $,i as z,y as A,f as v,t as D,o as m,_ as E,z as F,A as U,g as q,e as r,w as n}from"./index-CHbwUK_a.js";const I=Symbol("TabItemSupport");function L(){const l=p([]),t=p(""),u=g(()=>[...l.value].sort((a,d)=>Number(a.order)-Number(d.order)));function e(a){l.value.push(a),t.value===""&&i(a.tabId)}function o(a){l.value=l.value.filter(d=>d.tabId!==a)}function i(a){l.value.some(d=>d.tabId===a)?t.value=a:console.warn(`tabId ${a} not found.`)}return x(I,{addTab:e,removeTab:o,activeTabId:k(t)}),{tabs:l,sortedTabs:u,activeTabId:k(t),activateTab:i,addTab:e,removeTab:o}}function G(){const l=w(I);if(l==null)throw new Error(`${String(I)} not found`);return{...l}}const H={class:"Tab"},J=["onClick"],K=y({__name:"Tab",props:N({headerClass:{},bodyClass:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const t=B(l,"modelValue"),{sortedTabs:u,activateTab:e,activeTabId:o}=L(),i=a=>{e(a.tabId),t.value=a.tabId};return M(()=>t.value,(a,d)=>{a!=null&&e(a)}),_(()=>{t.value==null||t.value===""?t.value=o.value:e(t.value)}),(a,d)=>(m(),c("div",H,[s("nav",{class:T(["Tab-header tabs",l.headerClass])},[s("ul",null,[(m(!0),c(C,null,j(V(u),b=>(m(),c("li",{key:b.tabId,class:T({"is-active":V(o)===b.tabId})},[s("a",{onClick:O=>i(b)},[b.tabTitleSlot?(m(),z(A(b.tabTitleSlot),{key:0})):(m(),c(C,{key:1},[v(D(b.label),1)],64))],8,J)],2))),128))])],2),s("section",{class:T(["Tab-body",l.bodyClass])},[$(a.$slots,"default",{},void 0,!0)],2)]))}}),S=E(K,[["__scopeId","data-v-39a738fd"]]),f=y({__name:"TabItem",props:{tabId:{},label:{default:""},order:{}},setup(l){const t=l,u=F(),e=G(),o=g(()=>e.activeTabId.value===t.tabId);return _(()=>{e.addTab({tabId:t.tabId,label:t.label,order:t.order,tabTitleSlot:u.tabTitle})}),U(()=>{e.removeTab(t.tabId)}),(i,a)=>o.value?$(i.$slots,"default",{key:0}):q("",!0)}}),Q=y({__name:"TabView",setup(l){const t=p("tab-2");return(u,e)=>(m(),c("div",null,[e[10]||(e[10]=s("h1",null,"tab",-1)),s("div",null,[s("div",null,[r(S,null,{default:n(()=>[r(f,{"tab-id":"tab-1",order:"1"},{tabTitle:n(()=>[...e[2]||(e[2]=[v(" タブ1",-1),s("span",{style:{color:"red"}},"★",-1)])]),default:n(()=>[...e[3]||(e[3]=[s("div",null,"タブ１",-1)])]),_:1}),r(f,{"tab-id":"tab-3",label:"タブ３",order:"3"},{default:n(()=>[...e[4]||(e[4]=[v("3",-1)])]),_:1}),r(f,{"tab-id":"tab-2",label:"タブ２",order:"2"},{default:n(()=>[...e[5]||(e[5]=[v("2",-1)])]),_:1})]),_:1})]),e[7]||(e[7]=s("div",{style:{height:"100px"}},null,-1)),e[8]||(e[8]=s("hr",null,null,-1)),e[9]||(e[9]=v(" classの指定、v-modelとの連動 ",-1)),s("div",null,[r(S,{"header-class":"is-centered is-toggle is-toggle-rounded",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value=o)},{default:n(()=>[r(f,{"tab-id":"tab-1",label:"タブ１",order:"1"},{default:n(()=>[s("button",{class:"button",onClick:e[0]||(e[0]=o=>t.value="tab-2")},"タブ２へ移動")]),_:1}),r(f,{"tab-id":"tab-2",label:"タブ２",order:"2"},{default:n(()=>[...e[6]||(e[6]=[v("2",-1)])]),_:1})]),_:1},8,["modelValue"])])])]))}});export{Q as default};
