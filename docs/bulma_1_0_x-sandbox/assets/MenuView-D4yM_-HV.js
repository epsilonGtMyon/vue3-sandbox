import{d as p,c as M,a as i,b as o,e as v,n as g,f as C,t as y,g as h,u as N,r as x,w as T,T as V,o as l,F as b,h as S,i as L,_ as k,j as _,k as $}from"./index-Du5QQFZs.js";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var B={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M311.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L243.2 256 73.9 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]};const O={class:"MenuItem"},A={class:"is-pulled-right"},z={key:0,class:"MenuItem-list menu-list"},F=p({__name:"MenuItem",props:{activeMenuId:{},item:{},expandedMenuIds:{}},emits:["selected","toggle"],setup(s,{emit:a}){const n=s,t=a,e=M(()=>{const c=[];return n.activeMenuId===n.item.menuId&&c.push("is-active"),c}),d=M(()=>n.item.subMenuItems?.length??!1),m=M(()=>n.expandedMenuIds.has(n.item.menuId)),u=()=>{d.value?t("toggle",n.item.menuId):t("selected",n.item)},r=c=>{t("selected",c)},I=c=>{t("toggle",c)};return(c,q)=>{const w=x("font-awesome-icon"),E=x("MenuItem",!0);return l(),i("li",O,[o("a",{class:g(["MenuItem-anchor",e.value]),onClick:u},[C(y(s.item.menuLabel)+" ",1),o("span",A,[d.value?(l(),i("span",{key:0,class:g(["MenuItem-toggle",{"is-expanded":m.value}])},[v(w,{icon:N(B)},null,8,["icon"])],2)):h("",!0)])],2),v(V,null,{default:T(()=>[d.value&&m.value?(l(),i("ul",z,[(l(!0),i(b,null,S(s.item.subMenuItems,f=>(l(),L(E,{key:f.menuId,activeMenuId:s.activeMenuId,item:f,expandedMenuIds:s.expandedMenuIds,onSelected:r,onToggle:I},null,8,["activeMenuId","item","expandedMenuIds"]))),128))])):h("",!0)]),_:1})])}}}),J=k(F,[["__scopeId","data-v-5382a853"]]);function P(){const s="expandedMenuIds";function a(t){sessionStorage.setItem(s,JSON.stringify([...t.keys()]))}function n(){const t=sessionStorage.getItem(s);if(t==null)return[];try{const e=JSON.parse(t);return Array.isArray(e)?e:(console.warn("not array",e),[])}catch(e){return console.warn(e),[]}}return{persistExpandedMenuIds:a,loadExpandedMenuIds:n}}const R={class:"Menu menu"},j={class:"menu-list"},D=p({__name:"Menu",props:{activeMenuId:{},items:{}},emits:["selected"],setup(s,{emit:a}){const n=P(),t=a,e=_(new Set),d=u=>{t("selected",u)},m=u=>{e.value.has(u)?e.value.delete(u):e.value.add(u),n.persistExpandedMenuIds(e.value)};return $(()=>{n.loadExpandedMenuIds().forEach(r=>e.value.add(r))}),(u,r)=>(l(),i("aside",R,[o("ul",j,[(l(!0),i(b,null,S(s.items,I=>(l(),L(J,{key:I.menuId,activeMenuId:s.activeMenuId,item:I,expandedMenuIds:e.value,onSelected:d,onToggle:m},null,8,["activeMenuId","item","expandedMenuIds"]))),128))])]))}}),G=k(D,[["__scopeId","data-v-34d126d8"]]),K={class:"is-flex"},Y={style:{width:"300px"}},Q=p({__name:"MenuView",setup(s){const a=_(""),n=_([{menuId:"layer-1",menuLabel:"レイヤー１",subMenuItems:[{menuId:"layer1-1",menuLabel:"レイヤー１－１"},{menuId:"layer1-2",menuLabel:"レイヤー１－２"}]},{menuId:"layer-2",menuLabel:"レイヤー２",subMenuItems:[{menuId:"layer2-1",menuLabel:"レイヤー２－１",subMenuItems:[{menuId:"layer2-1-1",menuLabel:"レイヤー２－１ー１"},{menuId:"layer2-1-2",menuLabel:"レイヤー２－１ー２"}]},{menuId:"layer2-2",menuLabel:"レイヤー２－２"}]},{menuId:"layer-3",menuLabel:"レイヤー３"},{menuId:"layer-4",menuLabel:"レイヤー４",subMenuItems:[{menuId:"layer4-1",menuLabel:"レイヤー４－１"},{menuId:"layer4-2",menuLabel:"レイヤー４－２"}]}]),t=e=>{a.value=e.menuId};return(e,d)=>(l(),i("div",null,[d[0]||(d[0]=o("h1",null,"menu",-1)),o("div",K,[o("div",Y,[v(G,{activeMenuId:a.value,items:n.value,onSelected:t},null,8,["activeMenuId","items"])]),o("div",null,[o("div",null,"アクティブメニュー："+y(a.value),1)])])]))}});export{Q as default};
